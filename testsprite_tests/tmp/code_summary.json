{
  "tech_stack": [
    "python",
    "gradio",
    "ffmpeg",
    "huggingface-spaces",
    "pytest",
    "testsprite"
  ],
  "features": [
    {
      "name": "Gradio Web App",
      "description": "User interface for uploading audio/video, running transcription/translation, and downloading SRT or burned-in video.",
      "files": [
        "app.py"
      ]
    },
    {
      "name": "Papago Translation Service",
      "description": "Wraps Papago API for Korean→English translation and builds SRT content with correct formatting.",
      "files": [
        "papago_translation.py",
        "test_papago_translation.py"
      ]
    },
    {
      "name": "Subtitle Rendering (FFmpeg/ASS/SRT)",
      "description": "Generates ASS/SRT subtitles, enforces fonts/colors/sizes/positions, and burns subtitles into video via FFmpeg.",
      "files": [
        "app.py"
      ]
    },
    {
      "name": "HF Space Deployment",
      "description": "Configs and docs for deploying to Hugging Face Spaces, including requirements and packages.",
      "files": [
        "README_HF.md",
        "requirements_hf.txt",
        "packages.txt",
        "HF_SPACE_README.md",
        "DEPLOY_TO_HF.md",
        "DEPLOYMENT_INSTRUCTIONS.md",
        "SIMPLE_DEPLOY.md",
        "MANUAL_UPLOAD.md",
        "SYNC_USAGE.md",
        "sync_to_hf.sh"
      ]
    },
    {
      "name": "Testsprite E2E Tests",
      "description": "Automated UI tests to upload an MP4, trigger processing, and validate outputs.",
      "files": [
        "testsprite_tests/frontend-smoke_Frontend_UI_Smoke_Tests.py",
        "testsprite_tests/e2e-mp4_E2E_Upload_MP4_and_Process.py",
        "testsprite_tests/testsprite_frontend_test_plan.json",
        "testsprite_tests/assets/sample.mp4"
      ]
    },
    {
      "name": "Local Run Script",
      "description": "Helper script to run the Gradio app locally.",
      "files": [
        "run_app.sh"
      ]
    }
  ]
}

{
  "projectName": "Papago Korean→English Transcription & Subtitles",
  "techStack": {
    "language": "Python",
    "runtime": ">=3.10",
    "framework": "Gradio 4.x",
    "ml": ["OpenAI Whisper (large-v3)"],
    "video": ["FFmpeg"],
    "hosting": "Hugging Face Spaces",
    "fonts": ["NanumGothic via fonts-nanum, fonts-nanum-extra"],
    "ci_deploy": ["custom sync_to_hf.sh"]
  },
  "dependencies": [
    "gradio",
    "huggingface_hub==0.19.4 (for Gradio compatibility)",
    "openai-whisper",
    "ffmpeg (system)"
  ],
  "secrets": [
    "PAPAGO_CLIENT_ID",
    "PAPAGO_CLIENT_SECRET"
  ],
  "features": [
    "Upload audio/video (.mp4/.mov/.mkv/.webm/.mp3/.wav/etc)",
    "Transcribe Korean speech with Whisper large-v3",
    "Translate to English with Papago API",
    "Generate bilingual SRT (KR top 16pt #A7C1E8, EN bottom 15pt #FFFFFF)",
    "Burn styled subtitles into video using ASS + FFmpeg",
    "Progress feedback and robust error messages in UI",
    "Use Space Secrets for Papago credentials"
  ],
  "keyFiles": {
    "app.py": "Gradio UI, FFmpeg integration, ASS generation, progress, logging",
    "papago_translation.py": "PapagoTranslator, timestamp helpers, SRT generation with inline SSA tags",
    "requirements_hf.txt": "Pinned deps for Space",
    "packages.txt": "System packages (ffmpeg, Nanum fonts)",
    "sync_to_hf.sh": "Deploy script to Space"
  },
  "notableConfigs": {
    "fonts": "NanumGothic installed via packages.txt to avoid tofu squares",
    "subtitleStyle": "KR 16pt #A7C1E8 top; EN 15pt #FFFFFF bottom; \\N between lines; blank line between segments",
    "ffmpegFilter": "subtitles=ASS:charenc=UTF-8:force_style=FontName=NanumGothic,FontSize=16",
    "whisperModel": "large-v3 auto-selected"
  },
  "risks": [
    "FFmpeg filter quoting/escaping across environments",
    "Font discovery issues if fonts not installed",
    "Papago API timeouts or quota",
    "Large Whisper model memory/CPU usage on Space"
  ]
}



