[
  {
    "projectId": "6677ac17-2607-4668-8639-a1975bed48a5",
    "testId": "4c53231c-ab05-47e8-9c00-efcbd31a0cef",
    "userId": "c4486428-2021-7084-4f8d-516fd792fd64",
    "title": "frontend-smoke-Frontend UI Smoke Tests",
    "description": "Verify Gradio app loads, shows controls, and basic UI text is present.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:7860\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        await expect(frame.locator('text=Korean Audio Transcription & Translation').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Audio/Video File').first).to_be_visible(timeout=30000)\n        await expect(frame.locator('text=Process').first).to_be_visible(timeout=30000)\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/c4486428-2021-7084-4f8d-516fd792fd64/176234752213609//tmp/test_task/result.webm",
    "created": "2025-11-05T12:57:59.296Z",
    "modified": "2025-11-05T12:58:42.265Z"
  },
  {
    "projectId": "6677ac17-2607-4668-8639-a1975bed48a5",
    "testId": "b3630e05-4f51-4547-93c4-87ed36dd9e5c",
    "userId": "c4486428-2021-7084-4f8d-516fd792fd64",
    "title": "e2e-mp4-E2E: Upload MP4 and Process",
    "description": "Upload tiny MP4, click Process, wait for completion text.",
    "code": "import asyncio\nfrom playwright import async_api\nfrom playwright.async_api import expect\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n    \n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n        \n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n        \n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n        \n        # Open a new page in the browser context\n        page = await context.new_page()\n        \n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:7860\", wait_until=\"commit\", timeout=10000)\n        \n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n        \n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n        \n        # Interact with the page elements to simulate user flow\n        # -> Upload the tiny MP4 file using the file upload function on the file input element at index 1\n        frame = context.pages[-1]\n        # Click the Process button to start processing the uploaded file\n        elem = frame.locator('xpath=html/body/gradio-app/div/main/div/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # -> Upload the tiny MP4 file using the file upload function on the file input element at index 1\n        frame = context.pages[-1]\n        # Click to upload or drop files button to open file dialog\n        elem = frame.locator('xpath=html/body/gradio-app/div/main/div/div/div/div[2]/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n\n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=Processing Failed: File format not supported').first).to_be_visible(timeout=1000)\n        except AssertionError:\n            raise AssertionError('Test case failed: The test plan execution failed because the processing did not complete successfully with the uploaded tiny MP4 file. Expected completion text \"Complete!\" was not found.')\n        await asyncio.sleep(5)\n    \n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n            \nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "The file upload function is not working as expected on the page. The system does not detect the uploaded file, preventing processing. Reporting the issue and stopping further actions.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/c4486428-2021-7084-4f8d-516fd792fd64/1762347663704974//tmp/test_task/result.webm",
    "created": "2025-11-05T12:57:59.303Z",
    "modified": "2025-11-05T13:01:03.876Z"
  }
]
